# APIå¯†é’¥æ³¨å†Œè¡¨

æœ¬æ–‡æ¡£è®°å½•é¡¹ç›®ä¸­ä½¿ç”¨çš„å„ç±»APIå¯†é’¥ä¿¡æ¯ï¼Œä¾¿äºç®¡ç†å’Œè¿½è¸ªã€‚

âš ï¸ **å®‰å…¨æç¤º**: æœ¬æ–‡æ¡£ä»…è®°å½•å¯†é’¥çš„å…ƒæ•°æ®ï¼ˆé¡¹ç›®ä¿¡æ¯ã€åˆ›å»ºæ—¶é—´ç­‰ï¼‰ï¼Œå®é™…å¯†é’¥å€¼å­˜å‚¨åœ¨ `.env` æ–‡ä»¶ä¸­ï¼ˆå·²åŠ å…¥ `.gitignore`ï¼‰

## Google Gemini API å¯†é’¥

### å½“å‰æ¿€æ´»å¯†é’¥

#### å¯†é’¥ #1 (vscodeé¡¹ç›®)
- **å¯†é’¥åç¼€**: `...hXDE1k`
- **å®Œæ•´å¯†é’¥**: [å·²ç§»é™¤ - å­˜å‚¨åœ¨ .env æ–‡ä»¶ä¸­]
- **é¡¹ç›®åç§°**: vscode
- **Google Cloudé¡¹ç›®**: `projects/783808103449`
- **é¡¹ç›®ç¼–å·**: 783808103449
- **åˆ›å»ºæ—¶é—´**: 2025-10-11
- **åˆ›å»ºä½ç½®**: [Google AI Studio](https://aistudio.google.com/)
- **é…é¢ç±»å‹**: Free Tier (50æ¬¡/å¤©)
- **çŠ¶æ€**: âœ… æ¿€æ´»ä¸­
- **ç”¨é€”**: VSCode Claude Codeå¼€å‘ç¯å¢ƒä½¿ç”¨

#### å¯†é’¥ #2 (å†å²å¯†é’¥)
- **å¯†é’¥åç¼€**: `...ox4J7yc`
- **å®Œæ•´å¯†é’¥**: [å·²ç§»é™¤ - å­˜å‚¨åœ¨ .env æ–‡ä»¶ä¸­]
- **é¡¹ç›®åç§°**: workshop (æ¨æµ‹)
- **åˆ›å»ºæ—¶é—´**: æœªçŸ¥ (æ—©æœŸåˆ›å»º)
- **é…é¢ç±»å‹**: Free Tier (50æ¬¡/å¤©)
- **çŠ¶æ€**: âœ… æœ‰æ•ˆï¼ˆå¤‡ç”¨ï¼‰
- **è¯´æ˜**: åŸé¡¹ç›®å¯†é’¥ï¼Œä»ç„¶æœ‰æ•ˆï¼Œå¯ä½œä¸ºå¤‡ç”¨

### é…é¢ç®¡ç†ç­–ç•¥

#### Free Tieré™åˆ¶
- **æ¯æ—¥è¯·æ±‚æ•°**: 50æ¬¡/å¤©
- **é‡ç½®æ—¶é—´**: å¤ªå¹³æ´‹æ—¶é—´åˆå¤œ (åŒ—äº¬æ—¶é—´ä¸‹åˆ4ç‚¹)
- **æ¯åˆ†é’Ÿè¯·æ±‚**: 5 RPM (gemini-2.5-pro)
- **æ¯åˆ†é’Ÿtoken**: 125,000 TPM

#### æ™ºèƒ½é…é¢ç®¡ç†
é¡¹ç›®å·²å®ç° **Claude+Geminiæ™ºèƒ½ååŒç³»ç»Ÿ**ï¼Œè¯¦è§ `docs/TECHNICAL_ARCHITECTURE.md`ï¼š
- è‡ªåŠ¨æ£€æµ‹é…é¢çŠ¶æ€
- é…é¢è€—å°½æ—¶è‡ªåŠ¨åˆ‡æ¢åˆ°Claude
- å¤šå¯†é’¥è½®æ¢æœºåˆ¶ï¼ˆæœªæ¥å®ç°ï¼‰

#### å‡çº§åˆ°ä»˜è´¹å±‚çº§

å¦‚éœ€æ›´é«˜é…é¢ï¼Œå¯é€šè¿‡ä»¥ä¸‹æ­¥éª¤å‡çº§ï¼š

1. **è®¿é—® Google AI Studio**: https://aistudio.google.com/
2. **å¯ç”¨Cloud Billing**: ç»‘å®šä¿¡ç”¨å¡ï¼ˆæœ‰$300å…è´¹é¢åº¦ï¼‰
3. **è‡ªåŠ¨å‡çº§åˆ°Tier 1**:
   - 150 RPM
   - 2,000,000 TPM
   - ç§»é™¤æ¯æ—¥50æ¬¡é™åˆ¶

å‚è€ƒæ–‡æ¡£: https://ai.google.dev/gemini-api/docs/rate-limits

### Google One AI Proè®¢é˜…è¯´æ˜

âš ï¸ **é‡è¦**: Google One AI Proè®¢é˜… **ä¸ç­‰äº** Gemini APIä»˜è´¹å±‚çº§

- **Google One AI Pro**: æ¶ˆè´¹è€…äº§å“è®¢é˜…ï¼ˆ2TBå­˜å‚¨ + AIåŠŸèƒ½å¢å¼ºï¼‰
- **Gemini API Tier 1+**: éœ€è¦å•ç‹¬çš„Cloud Billingè´¦æˆ·

å³ä½¿è®¢é˜…äº†Google One AI Proï¼ŒAPIä»ç„¶ä½¿ç”¨Free Tieré…é¢ï¼Œé™¤éå•ç‹¬å¯ç”¨Cloud Billingã€‚

## LLMå¤‡ç”¨å¼•æ“ (å·²è½®æ¢)

### å®‰å…¨äº‹ä»¶è®°å½• - 2026-01-08

âš ï¸ **å¯†é’¥è½®æ¢**: ä»¥ä¸‹APIå¯†é’¥å› gitå†å²æ³„éœ²å·²åœ¨æºå¹³å°åˆ é™¤/è½®æ¢ï¼š

| æœåŠ¡å•† | å¯†é’¥åç¼€ | çŠ¶æ€ | å¤„ç†æªæ–½ |
|--------|----------|------|----------|
| é˜¿é‡Œäº‘DashScope | `...446b43` | âŒ å·²å¤±æ•ˆ | æºå¹³å°å·²åˆ é™¤ |
| æœˆä¹‹æš—é¢Kimi | `...OxH1D5` | âŒ å·²å¤±æ•ˆ | æºå¹³å°å·²åˆ é™¤ |

**æ³„éœ²åŸå› **: å¯†é’¥æ›¾ç¡¬ç¼–ç åœ¨ä»£ç ä¸­å¹¶æäº¤åˆ°publicä»“åº“gitå†å²

**å·²é‡‡å–æªæ–½**:
1. âœ… åœ¨é˜¿é‡Œäº‘DashScopeæ§åˆ¶å°åˆ é™¤æ—§å¯†é’¥
2. âœ… åœ¨æœˆä¹‹æš—é¢å¹³å°åˆ é™¤æ—§å¯†é’¥
3. âœ… æ¸…ç†`.env`æ–‡ä»¶ä¸­çš„æ—§å¯†é’¥å€¼
4. âœ… æ›´æ–°æ–‡æ¡£è®°å½•å®‰å…¨äº‹ä»¶

**åç»­å»ºè®®**:
- å¦‚éœ€ä½¿ç”¨å¤‡ç”¨LLMå¼•æ“ï¼Œè¯·åœ¨å¯¹åº”å¹³å°é‡æ–°ç”Ÿæˆå¯†é’¥
- æ–°å¯†é’¥åªå­˜å‚¨åœ¨`.env`æ–‡ä»¶ä¸­ï¼Œä¸è¦ç¡¬ç¼–ç åˆ°ä»£ç 

---

## å…¶ä»–APIå¯†é’¥

### Azure TTS (è¯­éŸ³åˆæˆ)
- **é…ç½®ä½ç½®**: `.env` æ–‡ä»¶ä¸­çš„ `AZURE_TTS_KEY`
- **æœåŠ¡åŒºåŸŸ**: å­˜å‚¨åœ¨ `AZURE_TTS_REGION`
- **ç”¨é€”**: æ’­å®¢å’ŒYouTubeè§†é¢‘çš„è¯­éŸ³ç”Ÿæˆ

### YouTube Data API
- **é…ç½®ä½ç½®**: OAuth 2.0è®¤è¯
- **å‡­æ®æ–‡ä»¶**: `client_secrets.json` (å·²åŠ å…¥ `.gitignore`)
- **ç”¨é€”**: YouTubeè§†é¢‘ä¸Šä¼ å’Œç®¡ç†

### OneDrive API (Workshop å›¾åºŠ)
- **é…ç½®ä½ç½®**: OAuth 2.0è®¤è¯
- **å‡­æ®æ–‡ä»¶**: `onedrive_credentials.json` (å·²åŠ å…¥ `.gitignore`)
- **ç”¨é€”**: å›¾åºŠæ–‡ä»¶ç®¡ç†

### OneDrive API (VPS æœåŠ¡å™¨)
- **Azure åº”ç”¨åç§°**: onedrive-msft
- **Client ID**: `dede9e56-xxxx-xxxx-xxxx-xxxxxxxxxxxx` (å®Œæ•´ä¿¡æ¯è§ vpsserver ä»“åº“)
- **Client Secret åç§°**: `rclone20251230`
- **Client Secret åˆ›å»ºæ—¥æœŸ**: 2025-12-30
- **Client Secret åˆ°æœŸæ—¥æœŸ**: âš ï¸ **2027-12-30** (è¯·åœ¨åˆ°æœŸå‰ç»­æœŸ)
- **é…ç½®ä½ç½®**: VPS æœåŠ¡å™¨ (è¯¦è§ vpsserver ä»“åº“æ–‡æ¡£)
- **ç”¨é€”**: VPS å¤‡ä»½ (Trilium)ã€è®ºæ–‡å‘¨æŠ¥å­˜å‚¨
- **ç›¸å…³æœåŠ¡**:
  - Trilium æ¯æ—¥å¤‡ä»½ (03:00)
  - è®ºæ–‡å‘¨æŠ¥å­˜å‚¨ (æ¯å‘¨ä¸€ 08:00)
- **ç»­æœŸæé†’**: å»ºè®®åœ¨ 2027-11-30 å‰æ›´æ–° Client Secret
- **è¯¦ç»†é…ç½®**: è§ `vpsserver/docs/ONEDRIVE_CONFIG.md` (private ä»“åº“)

## Cloudflare API

> **é…ç½®å·²è¿ç§»**: Cloudflareå‡­æ®å·²ä»é¡¹ç›®.envè¿ç§»åˆ°ç³»ç»Ÿçº§é…ç½®æ–‡ä»¶ï¼Œéµå¾ªå®‰å…¨æœ€ä½³å®è·µã€‚
> - é…ç½®æ–‡ä»¶: `~/.cloudflare/config`
> - å‡­æ®æ–‡ä»¶: `~/.cloudflare/credentials` (æƒé™600)
> - ç®¡ç†è„šæœ¬: `vpsserver/scripts/cloudflare_utils.py`
> - è¯¦ç»†æ–‡æ¡£: `vpsserver/configs/cloudflare/README.md`

### Zoneä¿¡æ¯ (arong.eu.org)
- **Zone ID**: `aa0569a8a17cfbaa12afef0a0f506fe6`
- **Account ID**: `cab1dfae5db828524adfedab7b2d28b3`
- **åŸŸå**: arong.eu.org (WordPressåšå®¢)
- **ç”¨é€”**: CDNã€å®‰å…¨è§„åˆ™ã€AdSenseé…ç½®

### API Tokens æ¸…å• (2026-01-08 å®¡æŸ¥)

| Tokenåç§° | æƒé™ | èµ„æºèŒƒå›´ | çŠ¶æ€ | è¯´æ˜ |
|-----------|------|---------|------|------|
| Zone Rules Manager | Zone Settings/Firewall/Page Rules/Transform Rules (Edit) | arong.eu.org | âœ… ä¿ç•™ | æ–°å»ºï¼Œç”¨äºAdSenseè§„åˆ™é…ç½® |
| Edit zone DNS | Zone.Email Routing Rules, Zone.DNS | 1 Zone | âš ï¸ å¾…è¯„ä¼° | æ— APIè°ƒç”¨ï¼Œé€šè¿‡Dashboardç®¡ç† |
| é˜…è¯»åˆ†ææ•°æ®å’Œæ—¥å¿— | Account.Account Analytics, Zone.Logs, Zone.Analytics | All accounts/zones | âš ï¸ å¾…è¯„ä¼° | åªè¯»ï¼Œæ— APIè°ƒç”¨ |

> **å·²åˆ é™¤**: Blog Images Upload Token (2026-01-08) - Cloudflare ImagesåŠŸèƒ½å·²åœç”¨

#### Tokenå®‰å…¨å®¡æŸ¥ç»“è®º
- **Edit zone DNS**: Email Routingé€šè¿‡Dashboardæ‰‹åŠ¨ç®¡ç†ï¼Œå»ºè®®åˆ é™¤ä»¥å‡å°‘æ”»å‡»é¢
- **é˜…è¯»åˆ†ææ•°æ®å’Œæ—¥å¿—**: åªè¯»æƒé™é£é™©ä½ï¼Œä½†æ— ä½¿ç”¨åœºæ™¯ï¼Œå»ºè®®åˆ é™¤
- **æœ€å°æƒé™åŸåˆ™**: ä»…ä¿ç•™ Zone Rules Manager å³å¯æ»¡è¶³å½“å‰éœ€æ±‚

### Zone Rules Manager Token âœ…
- **Tokenåç§°**: `Zone Rules Manager`
- **Tokenåç¼€**: `...IfaK`
- **åˆ›å»ºæ—¥æœŸ**: 2026-01-08
- **æƒé™**:
  - Zone â†’ Zone Settings â†’ Edit
  - Zone â†’ Firewall Services â†’ Edit
  - Zone â†’ Page Rules â†’ Edit
  - Zone â†’ Transform Rules â†’ Edit
- **Zoneèµ„æº**: Specific zone â†’ arong.eu.org
- **ç”¨é€”**: AdSenseè§„åˆ™é…ç½®ã€WAFç®¡ç†ã€é¡µé¢è§„åˆ™
- **é…ç½®ä½ç½®**: `~/.cloudflare/credentials` (ç³»ç»Ÿçº§)
- **çŠ¶æ€**: âœ… å·²åˆ›å»ºå¹¶éªŒè¯

### Cloudflare é…ç½®å˜æ›´è®°å½•

| æ—¥æœŸ | è®¾ç½® | å˜æ›´ | åŸå›  |
|------|------|------|------|
| 2026-01-08 | Browser Check | ON â†’ OFF | é˜»æ­¢Google AdSenseçˆ¬è™«è¯»å–ads.txt |
| 2026-01-08 | Server Side Exclude | ON â†’ OFF | å¯èƒ½å½±å“çˆ¬è™«è§£æé¡µé¢å†…å®¹ |
| 2026-01-08 | Email Obfuscation | ON â†’ OFF | ç¡®ä¿çˆ¬è™«å¯å®Œæ•´è¯»å–é¡µé¢å†…å®¹ |

### Cloudflare WAFè§„åˆ™

| è§„åˆ™ID | æè¿° | åŠ¨ä½œ | åˆ›å»ºæ—¥æœŸ |
|--------|------|------|---------|
| 956d5d15... | Allow Google Crawlers for AdSense | allow | 2026-01-08 |

**è§„åˆ™è¡¨è¾¾å¼**:
```
(cf.client.bot) or
(http.user_agent contains "Googlebot") or
(http.user_agent contains "Mediapartners-Google") or
(http.user_agent contains "AdsBot-Google") or
(http.user_agent contains "Google-InspectionTool")
```

### Cloudflare APIä½¿ç”¨åœºæ™¯

1. **AdSenseç›¸å…³**
   - âœ… å·²å…³é—­Browser Checkç¡®ä¿ads.txtå¯è®¿é—®
   - è®¾ç½®Firewallè§„åˆ™å…è®¸Googleçˆ¬è™«
   - Transform Ruleså¤„ç†ç‰¹æ®Šè¯·æ±‚

2. **å®‰å…¨è§„åˆ™ç®¡ç†**
   - WAFè‡ªå®šä¹‰è§„åˆ™
   - Rate Limitingé…ç½®
   - Botç®¡ç†

3. **æœªæ¥æ‰©å±•**
   - è‡ªåŠ¨åŒ–DNSç®¡ç†
   - ç¼“å­˜æ¸…é™¤APIè°ƒç”¨
   - åˆ†ææ•°æ®è·å–

---

## å¯†é’¥å®‰å…¨ç®¡ç†

### å½“å‰å®è·µ
1. âœ… æ‰€æœ‰å¯†é’¥å­˜å‚¨åœ¨ `.env` æ–‡ä»¶
2. âœ… `.env` å·²åŠ å…¥ `.gitignore`
3. âœ… OAuthå‡­æ®æ–‡ä»¶å·²æ’é™¤ç‰ˆæœ¬æ§åˆ¶
4. âœ… ä»£ç ä¸­ä¸åŒ…å«ç¡¬ç¼–ç å¯†é’¥

### æœªæ¥è®¡åˆ’
- **Azure Key Vaulté›†æˆ**: ç»Ÿä¸€å¯†é’¥ç®¡ç† (å‚è§ `docs/AZURE_INTEGRATION_ROADMAP.md`)
- **ç¯å¢ƒéš”ç¦»**: å¼€å‘/ç”Ÿäº§ç¯å¢ƒåˆ†ç¦»
- **å¯†é’¥è½®æ¢**: å®šæœŸæ›´æ–°å¯†é’¥

## æ›´æ–°å†å²

- **2026-01-08**: ğŸ”’ å®‰å…¨å®¡è®¡ - è®°å½•DashScope/Kimiå¯†é’¥æ³„éœ²äº‹ä»¶ï¼Œç¡®è®¤å·²åœ¨æºå¹³å°è½®æ¢
- **2026-01-08**: æ·»åŠ  Cloudflare API é…ç½®ï¼ˆZone IDã€Account IDã€ç°æœ‰Tokensè®°å½•ã€å¾…åˆ›å»ºTokenè¯´æ˜ï¼‰
- **2025-12-30**: æ·»åŠ  VPS OneDrive API (Azure) å¯†é’¥ä¿¡æ¯ï¼Œè®°å½•åˆ°æœŸæ—¥æœŸ (2027-12-30)
- **2025-10-11**: åˆ›å»ºæ–‡æ¡£ï¼Œè®°å½•ä¸¤ä¸ªGemini APIå¯†é’¥
- **2025-10-11**: æ·»åŠ Google One AI Proè®¢é˜…è¯´æ˜
- **2025-10-11**: æ·»åŠ é…é¢ç®¡ç†å’Œå‡çº§æŒ‡å—

---

**ç›¸å…³æ–‡æ¡£**:
- `docs/TECHNICAL_ARCHITECTURE.md` - Claude+Geminiæ™ºèƒ½ååŒç³»ç»Ÿ
- `docs/AZURE_INTEGRATION_ROADMAP.md` - Azure Key Vaulté›†æˆè®¡åˆ’
- `.env.example` - ç¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹
